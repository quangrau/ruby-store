<div class="head-box">
	<div class="container">
		<h1>Category detail</h1>
		<h3>Show category info and list all products in this category</h3>
	</div>
</div>
<div class="container" id="main">
	<div class="row">
		<div class="col-md-6">
			<blockquote>
				<p>Category: <strong class="text-primary"><%= @category.name %></strong></p>
				<p>Products: <strong class="text-primary"><%= @category.products.length %></strong></p>
			</blockquote>
		</div>
		<div class="col-md-6">
			<div class="pull-right">
				<%= link_to 'Create new Category', new_admin_category_path, class: "btn btn-primary" %>
				<%= link_to 'Add new Product', 'javascript:;', id: 'show-product-form', class: "btn btn-success" %>
			</div>
		</div>
	</div>
	<div class="row product-form">
		<%= form_for([:admin, @product] , :html => {:class => 'col-md-12'}) do |f| %>
			<div class="form-group col-md-3">
				<label>Category Name</label>
				<input class="form-control" id="disabledInput" type="text" placeholder="<%= @category.name %>" disabled>
				<input type="hidden" name="category_id" value="<%= @category.id %>">
			</div>
			<div class="form-group col-md-3">
				<%= f.label :name, "Product Name" %><br>
				<%= f.text_field :name, class: "form-control" %>
			</div>
			<div class="form-group col-md-3">
				<%= f.label :price %><br>
				<%= f.text_field :price, class: "form-control" %>
			</div>
			<div class="form-group col-md-3">
				<label>&nbsp;</label><br/>
				<%= f.submit nil, :class => 'btn btn-success' %>
			</div>
		<% end %>
	</div>
	
	<table class="table table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Name</th>
				<th>Price</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<% @category.products.each do |product| %>
			<% if (product.id?) %>
			<tr>
				<td><%= product.id %></td>
				<td><%= product.name %></td>
				<td><%= product.price %></td>
				<td class="action">
					<%= link_to 'Show', [:admin, product] %> | 
			    	<%= link_to 'Edit', edit_admin_product_path %> | 
			    	<%= link_to 'Destroy', [:admin, product],
			                    method: :delete, data: { confirm: 'Are you sure?' } %>
				</td>
			</tr>
			<% end %>
			<% end %>
		</tbody>
	</table>
</div>




